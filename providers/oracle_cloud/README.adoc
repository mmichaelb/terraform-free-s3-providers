== Oracle Cloud Object Storage

=== Usage

The following code snippet can be used.

[source,terraform]
----
module "oracle" {
  source      = "github.com/mmichaelb/terraform-free-s3-providers/providers/oracle_cloud"
  bucket_name    = "my-bucket"
  compartment_id = "<compartment-id>"
  region         = "eu-frankfurt-1"
}

provider "oci" {
  tenancy_ocid     = "<tenancy-ocid>"
  user_ocid        = "<user-ocid>"
  fingerprint      = "<api key fingerprint>"
  private_key_path = "<path to api key private key>"
  region           = "eu-frankfurt-1"
}
----

=== Credentials

You have to create an API key following this tutorial: https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/terraformproviderconfiguration.htm. +
Keep in mind that the user associated with the API key needs at least the following permissions (given using policies):

* `Allow group <your group> to manage all-resources in compartment <your compartment name>`
* `Allow group <your group> to manage users in tenancy where target.user.name = /<your bucket name>-*/`
* `Allow group <your group> to manage groups in tenancy where target.group.name = /<your bucket name>-*/`

<!-- BEGIN_TF_DOCS -->
== Requirements

[cols="a,a",options="header,autowidth"]
|===
|Name |Version
|[[requirement_terraform]] <<requirement_terraform,terraform>> |>= 1.0.0
|[[requirement_oci]] <<requirement_oci,oci>> |>= 5.0.0
|===

== Providers

[cols="a,a",options="header,autowidth"]
|===
|Name |Version
|[[provider_oci]] <<provider_oci,oci>> |>= 5.0.0
|===

== Modules

[cols="a,a,a",options="header,autowidth"]
|===
|Name |Source |Version
|[[module_access_key]] <<module_access_key,access_key>> |./access_key |
|[[module_management_key]] <<module_management_key,management_key>> |./access_key |
|===

== Resources

[cols="a,a",options="header,autowidth"]
|===
|Name |Type
|https://registry.terraform.io/providers/oracle/oci/latest/docs/resources/objectstorage_bucket[oci_objectstorage_bucket.bucket] |resource
|https://registry.terraform.io/providers/oracle/oci/latest/docs/data-sources/identity_compartment[oci_identity_compartment.main] |data source
|https://registry.terraform.io/providers/oracle/oci/latest/docs/data-sources/objectstorage_namespace[oci_objectstorage_namespace.general] |data source
|===

== Inputs

[cols="a,a,a,a,a",options="header,autowidth"]
|===
|Name |Description |Type |Default |Required
|[[input_add_management_key]] <<input_add_management_key,add_management_key>>
|Whether to add a management key to manage the bucket (list and delete).
|`bool`
|`false`
|no

|[[input_bucket_name]] <<input_bucket_name,bucket_name>>
|The name of the bucket to create.
|`string`
|n/a
|yes

|[[input_compartment_id]] <<input_compartment_id,compartment_id>>
|The OCID of the compartment to create the bucket in.
|`string`
|n/a
|yes

|[[input_region]] <<input_region,region>>
|The region to create the bucket in.
|`string`
|n/a
|yes

|===

== Outputs

[cols="a,a",options="header,autowidth"]
|===
|Name |Description
|[[output_access_key_id]] <<output_access_key_id,access_key_id>> |n/a
|[[output_bucket_name]] <<output_bucket_name,bucket_name>> |n/a
|[[output_endpoint_url]] <<output_endpoint_url,endpoint_url>> |n/a
|[[output_management_access_key_id]] <<output_management_access_key_id,management_access_key_id>> |n/a
|[[output_management_secret_access_key]] <<output_management_secret_access_key,management_secret_access_key>> |n/a
|[[output_profile_name]] <<output_profile_name,profile_name>> |n/a
|[[output_region]] <<output_region,region>> |n/a
|[[output_secret_access_key]] <<output_secret_access_key,secret_access_key>> |n/a
|[[output_use_path_style]] <<output_use_path_style,use_path_style>> |n/a
|===
<!-- END_TF_DOCS -->